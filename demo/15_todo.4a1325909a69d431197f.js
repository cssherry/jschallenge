(()=>{"use strict";window.onload=()=>{var e,t;let n=JSON.parse(localStorage.getItem("todo")||"[]")||[];const o=document.getElementById("todo-input"),d=document.getElementById("todo-done"),c=document.getElementById("todo-undone");function l(){localStorage.setItem("todo",JSON.stringify(n))}function a(e,t){const n=e.done?d:c,o=document.createElement("li"),l=`checkbox${t}`,a=e.done?"checked":"";o.innerHTML=`<input type="checkbox" id="${l}" data-id="${t}" name="subscribe" value="newsletter" ${a}>`;const r=document.createElement("label");r.setAttribute("for",l),o.appendChild(r),r.textContent=e.value,n.appendChild(o)}function r(){d&&(d.innerHTML=""),c&&(c.innerHTML=""),n.forEach(a)}null===(e=document.getElementById("todo-reset"))||void 0===e||e.addEventListener("click",(function(){localStorage.removeItem("todo"),n=[],r()})),null===(t=document.getElementById("todo-form"))||void 0===t||t.addEventListener("submit",(function(e){e.preventDefault();const t=n.length,d={value:o.value,done:!1};n.push(d),l(),a(d,t),o.value=""})),document.addEventListener("change",(e=>{const t=e.target;if(!t||"todo-input"===t.id)return;const o=t.dataset.id,a=n[o];t.parentElement&&function(e,t){const n=e.done;e.done=!e.done,l();const o=n?c:d;setTimeout((()=>{o.appendChild(t)}),500)}(a,t.parentElement)})),document.addEventListener("click",(e=>{console.log("Event bubbled"),console.log("Event target: ",e.target),console.log("Event currentTarget: ",e.currentTarget)})),document.addEventListener("click",(()=>{console.log("Event captured")}),!0),r()}})();